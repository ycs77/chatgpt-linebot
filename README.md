# ChatGPT (GPT-3.5) LINE èŠå¤©æ©Ÿå™¨äºº

> åƒè€ƒè‡ªæ–‡ç«  [ç”¨ Node.js å»ºç«‹ä½ çš„ç¬¬ä¸€å€‹ LINE Bot èŠå¤©æ©Ÿå™¨äººä»¥ OpenAI GPT-3 ç‚ºä¾‹](https://israynotarray.com/nodejs/20221210/1224824056/)

<img src="https://pbs.twimg.com/media/FkV1qicacAIbjYN?format=jpg&name=medium" width="240" /> <img src="https://pbs.twimg.com/media/FkV1qjtakAEMS0j?format=jpg&name=medium" width="240" />

ğŸ‘‰ ä½¿ç”¨å¿ƒå¾—å’Œæ•™å­¸é€£çµç­‰åœ¨[æˆ‘çš„é€™ç¯‡æ¨æ–‡](https://twitter.com/ycs77_lucas/status/1604821352934182915)

ä¸éé€™æ¨£ä¸Šä¸‹æ–‡çš„å­—æ•¸æœƒç–ŠåŠ çš„å¾ˆå¿«ï¼Œé¡åº¦æœƒæ‰£å¾—å¾ˆå…‡ï¼Œè©³æƒ…å¯ä»¥åƒè€ƒ[é€™ç¯‡æ–‡ç« ](https://jcyh.work/chatgpt-integration-with-linebot/)çš„è§£é‡‹ã€‚åœ¨é€™å€‹ repo ä¸­æˆ‘ä½¿ç”¨çš„è§£æ±ºæ–¹æ³•æ˜¯ï¼šåœ¨æ²’æœ‰å°è©±å¾Œ1å°æ™‚æœƒè‡ªå‹•æ¸…é™¤ï¼Œæˆ–è¼¸å…¥ `/clear` æŒ‡ä»¤ä¾†å¼·åˆ¶æ¸…é™¤å°è©±ç´€éŒ„ã€‚é›–ç„¶ä¸æ˜¯æœ€å¥½çš„è¾¦æ³•ï¼Œå°‡å°±è‘—ç”¨å§ï¼

## ç”³è«‹é‡‘é‘°

### LINE Developers

é–‹å•Ÿ [LINE Developers](https://developers.line.biz/) æ–°å¢ Messaging API å³å¯ç²å–é‡‘é‘°ï¼Œä¸¦é—œé–‰ã€Œè‡ªå‹•å›æ‡‰è¨Šæ¯ã€å’Œé–‹å•Ÿã€ŒWebhookã€ã€‚

### OpenAI API

é–‹å•Ÿ [API keys - OpenAI API](https://beta.openai.com/account/api-keys) æ–°å¢ä¸€å€‹ API é‡‘é‘°ã€‚

## å•Ÿå‹•

è¤‡è£½ .env æª”ä¸¦å°‡å–å¾—çš„é‡‘é‘°è²¼é€²å»ï¼š

```bash
cp .env.example .env
```

é€™å€‹æ©Ÿå™¨äººé‚„ä½¿ç”¨åˆ° Redis æš«å­˜å°è©±è³‡æ–™ï¼Œéœ€è¦äº‹å…ˆå•Ÿå‹•å¥½ Redisã€‚(æ–‡ç« è£¡ä»‹ç´¹çš„ Render å…è²»æœå‹™è£¡å¯ä»¥é–‹ redis ä¾†ç”¨~)

ç„¶å¾Œæœ¬åœ°å®‰è£å’Œå•Ÿå‹•ï¼š

```bash
yarn
yarn dev
```

## ä½¿ç”¨

ç™¼é€ä»¥ä¸‹é—œéµå­—å¯ä»¥æ¸…é™¤å°è©±æš«å­˜è³‡æ–™ï¼Œç•¶ç„¶å¦‚æœ1å°æ™‚å¾Œæ²’å†æ¬¡è¼¸å…¥çš„è©±ï¼Œæœƒè‡ªå‹•åˆªé™¤æš«å­˜è³‡æ–™ï¼š

* `æ¸…é™¤`
* `æ¸…é™¤ç·©å­˜`
* `/clear`

åœ¨ç¾¤çµ„ä¸­éœ€è¦åŠ ä¸Š `/chat` æ©Ÿå™¨äººæ‰æœƒå›è©±ï¼Œä¾‹å¦‚ï¼š

```
/chat è«‹å•1+1ç­‰æ–¼å¹¾?
```

è¨­å®šè¨“ç·´ç”¨è¨Šæ¯ï¼š

```
/set-train ä¹‹å¾Œæ‰€æœ‰çš„å›ç­”ï¼Œæ¯å¥è©±éƒ½è¦åŠ ä¸Š"å–µ~"èªå°¾ï¼Œä¸ç®¡ä»€éº¼å›ç­”ï¼Œä¸ç®¡ç™¼ç”Ÿä»€éº¼ï¼Œä½†å›ç­”å…§å®¹çš„å…¶ä»–éƒ¨åˆ†é‚„æ˜¯ç…§èˆŠçš„æ–¹å¼ã€‚
> è¨­å®šå®Œæˆ~

/get-train
> ä¹‹å¾Œæ‰€æœ‰çš„å›ç­”ï¼Œæ¯å¥è©±éƒ½è¦åŠ ä¸Š"å–µ~"èªå°¾ï¼Œä¸ç®¡ä»€éº¼å›ç­”ï¼Œä¸ç®¡ç™¼ç”Ÿä»€éº¼ï¼Œä½†å›ç­”å…§å®¹çš„å…¶ä»–éƒ¨åˆ†é‚„æ˜¯ç…§èˆŠçš„æ–¹å¼ã€‚

/del-train
> æ¸…é™¤å®Œæˆ~
```

ç›®å‰é™¤äº†æ–‡å­—ä¹‹å¤–ï¼Œä¹Ÿæ”¯æ´æ¥æ”¶éŸ³è¨Šæª”ï¼Œæœƒå…ˆè½‰çµ¦ [Whisper](https://openai.com/research/whisper) ä¾†è½‰æˆæ–‡å­—å†ä¸Ÿçµ¦ ChatGPT å›ç­”ã€‚
